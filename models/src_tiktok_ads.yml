version: 1

sources:
  - name: tiktok_ads
    database: "{{var ('tiktok_ads_database', target.database)}}"
    schema: "{{var ('tiktok_ads_schema', 'tiktok_ads')}}"

    loader: fivetran
    loaded_at_field: _fivetran_synced

    freshness:
      warn_after: { count: 72, period: hour }
      error_after: { count: 168, period: hour }

    tables:
      - name: advertiser
        description: Each record represents data for one advertiser.
        columns:
          - name: id
            description: Advertiser ID
          - name: address
            description: Advertiser address information
          - name: balance
            description: Account available balance
          - name: company
            description: Advertiser's company name
          - name: contracter
            description: Contact Person
          - name: country
            description: The advertiser's country
          - name: create_time
            description: Advertiser's create time
          - name: currency
            description: Type of currency used by advertisers
          - name: description
            description: Brand description, i.e. promotional content
          - name: email
            description: Advertiser contact email, desensitised data
          - name: industry
            description: Advertiser industry category
          - name: language
            description: Language used by advertisers
          - name: license_no
            description: License number
          - name: license_url
            description: License preview address, the link is valid for an hour by default.
          - name: name
            description: Advertiser name
          - name: phone_number
            description: Contact mobile number, desensitised data
          - name: promotion_area
            description: Operation area
          - name: reason 
            description: Reason for rejection
          - name: role
            description: Advertiser role
          - name: status
            description: Advertiser status
          - name: telephone
            description: Fixed phone number, desensitised data
          - name: timezone
            description: Ad account time zone including GMT offset

      - name: campaign_history
        description: Each record represents a version of a TikTok campaign.
        columns:
          - name: campaign_id
            description: Campaign ID
          - name: updated_at
            description: 
          - name: advertiser_id
            description: Advertiser ID
          - name: budget
            description: Campaign budget
          - name: budget_mode
            description: Budget type
          - name: campaign_name
            description: Campaign name
          - name: campaign_type
            description: Campaign Type, indicates the campaign is a regular campaign or iOS 14 campaign.
          - name: create_time
            description: Time at which the campaign was created.
          - name: is_new_structure
            description: Whether the campaign is a new structure (for the same campaign, the structure of campaign, adgroups and ads are the same)
          - name: objective_type
            description: Advertising objective.
          - name: opt_status
            description: Operation status. 
          - name: status
            description: Campaign status
          - name: split_test_variable
            description: Split Test variables. Optional values; TARGETING, BIDDING_OPTIMIZATION , CREATIVE.


      - name: ad_group_history 
        description: Each record represents a version of a TikTok ad group.
        columns:
          - name: adgroup_id
            description: Ad group ID
          - name: updated_at
            description:
          - name: advertiser_id
            description: Advertiser ID
          - name: campaign_id
            description: The Ad group's campaign ID.
          - name: action_categories
            description: IDs of the action categories (behaviors) that you want to target. 
          - name: action_days
            description:
          - name: adgroup_name
            description: Ad group name. Character limit is 512 and cannot contain emoji.
          - name: age
            description: Age groups you want to target. 
          - name: android_osv
            description: Minimum Android version. 
          - name: app_download_url
            description: App download link
          - name: app_id
            description: The Application id of the promoted app
          - name: app_name
            description: App name. 
          - name: app_type
            description:
          - name: audience
            description: A list of audience ID
          - name: audience_type
            description: Audience Type
          - name: bid
            description: CPC, CPM bidding, oCPM learning bidding
          - name: bid_type
            description: Bidding Strategy
          - name: billing_event
            description: Bid method.
          - name: budget
            description: Ad budget. Returns 0.0 when Campaign Budget Optimization (budget_optimize_switch) is on.
          - name: budget_mode
            description: Budget mode. This field will be ignored when Campaign Budget Optimization (budget_optimize_switch) is enabled.
          - name: carriers
            description: Carriers that you want to target. 
          - name: category
            description:
          - name: click_tracking_url
            description: Click monitoring URL.
          - name: connection_type
            description: Device connection types that you want to target. Default; unlimited. 
          - name: conversion_bid
            description: oCPM conversion bid
          - name: cpv_video_duration
            description: Video playback duration, required if optimize_goal is VIDEO_VIEW. Allowed values; SIX_SECONDS (video playback 6s), TWO_SECONDS (video playback 2s)
          - name: creative_material_mode
            description: Creative delivery mode.
          - name: dayparting
            description: Ad delivery period, the default is always and the format is 48 * 7 character string, represented by 0 or 1.
That is, with half an hour as the minimum granularity, a day (24 hours) is divided by the minimum granularity(30 mins) from Monday to Sunday. Resulting in a 48*7 format.0 represents not to be delivered, 1 represents delivery. no transmission, full transmission 0, full transmission 1 all represent full time delivery
          - name: deep_bid_type
            description: Bidding strategy for in-app events. 
          - name: deep_cpabid
            description: Deep bid
          - name: deep_external_action
            description: Deep conversion event. 
          - name: display_name
            description:
          - name: enable_inventory_filter
            description: Inventory filtering (Unsafe videos will not be displayed).
          - name: excluded_audience
            description: A list of audience ID to be excluded.
          - name: external_action
            description: Conversion event for the ad group. It is required when the promoted object is an app with tracking urls, or when pixel_id is specified. 
          - name: fallback_type
            description:
          - name: frequency
            description: frequency, together with frequency_schedule, controls how often people see your ad (only available for REACH ads). For example, frequency = 2 frequency_schedule = 3 means "show ads no more than twice every 3 day".
          - name: frequency_schedule
            description: frequency, together with frequency, controls how often people see your ad (only available for REACH ads).
          - name: gender
            description: Gender that you want to target. 
          - name: impression_tracking_url
            description:
          - name: interest_category_v2
            description: Interest classification. If the interest is specified, users that do not meet interest target will be excluded during delivery.
          - name: ios_osv
            description: Minimum iOS version.
          - name: is_comment_disable
            description: Whether to allow comments on your ads on TikTok, Vigo, Helo.
          - name: is_hfss
            description: Whether the promoted content is HFSS foods (foods that are high in fat, salt, or sugar).
          - name: is_new_structure
            description: Whether the campaign is a new structure.
          - name: keywords
            description:
          - name: landing_page_url
            description:
          - name: languages
            description: Codes of the languages that you want to target.
          - name: location
            description: IDs of the locations that you want to target. 
          - name: open_url
            description: The specific location where you want your audience to go if they have your app installed.
          - name: open_url_type
            description: The open URL type.
          - name: operation_system
            description: Device operating systems that you want to target.
          - name: opt_status
            description: Operation status.
          - name: optimize_goal
            description: Optimization goal.
          - name: pacing
            description: You can choose between PACING_MODE_SMOOTH and PACING_MODE_FAST. For PACING_MODE_SMOOTH, the budget is allocated evenly within the scheduled time. PACING_MODE_FAST would consume budget and produce results as soon as possible. 
          - name: package
            description:
          - name: pangle_block_app_list_id
            description: Pangle app block list ID. 
          - name: pixel_id
            description: Pixel ID. Only application for landing pages.
          - name: placement
            description: The apps where you want to deliver your ads. 
          - name: placement_type
            description: Placement type.
          - name: profile_image
            description: Avatar URL.
          - name: schedule_end_time
            description: Ad delivery end time (UTC+0). Format should be YYYY-MM-DD HH:MM:SS
          - name: schedule_start_time
            description: Ad delivery start time (UTC+0). Format should be YYYY-MM-DD HH:MM:SS
          - name: schedule_type
            description: The schedule type, which can be either SCHEDULE_START_END or SCHEDULE_FROM_NOW. 
          - name: skip_learning_phase
            description: Whether to skip the learning stage. 
          - name: statistic_type
            description: conversion bid statistic type
          - name: status
            description: Ad group status
          - name: video_actions
            description: 
          - name: video_download
            description: Whether users can download your video ads on TikTok(cannot be updated once created). 


      - name: ad_history 
        description: Each record represents a version of a TikTok ad.
        columns:
          - name: ad_id
            description: Ad ID
          - name: updated_at
            description: 
          - name: adgroup_id
            description: Ad group ID
          - name: advertiser_id
            description: Advertiser ID
          - name: campaign_id
            description: Campaign ID
          - name: ad_name
            description: Ad Name.
          - name: ad_text
            description: The ad text.
          - name: app_name
            description: The display name of app download ad.
          - name: call_to_action
            description: Call to action values. 
          - name: click_tracking_url
            description: Click monitoring URL.
          - name: create_time
            description: Time at which the ad was created.
          - name: display_name
            description: The display name of landing page or pure exposure ad.
          - name: image_ids
            description: A list of image IDs.
          - name: impression_tracking_url
            description: Display monitoring URL. 
          - name: is_aco
            description: Whether the ad is an automated ad. 
          - name: is_creative_authorized
            description: Whether you grant displaying some of your ads in our TikTok For Business Creative Center. Only valid for non-US advertisers, the default value is false.
          - name: is_new_structure
            description: Whether the campaign is a new structure.
          - name: landing_page_url
            description: Landing page URL.
          - name: open_url
            description: The specific location where you want your audience to go if they have your app installed.
          - name: opt_status
            description: Operation status.
          - name: playable_url
            description: Playable material url.
          - name: profile_image
            description: Avatar URL.
          - name: status
            description: Ad status.
          - name: video_id
            description: The video ID.


